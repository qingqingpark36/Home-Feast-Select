<!-- pages/order-history/order-history.wxml -->
<view class="container order-history-container">
  <view wx:if="{{loading}}" class="loading">åŠ è½½ä¸­...</view>

  <view wx:elif="{{orders.length === 0}}" class="empty-state">
    <view class="empty-icon">ğŸ“‹</view>
    <view class="empty-text">æš‚æ— è®¢å•</view>
  </view>

  <view wx:else class="order-list">
    <view wx:for="{{orders}}" wx:key="_id" class="order-card">
      <!-- è®¢å•å¤´éƒ¨ -->
      <view class="order-header">
        <view class="order-time">{{formatTime(item.createTime)}}</view>
        <view class="order-status {{item.status}}">{{getStatusText(item.status)}}</view>
      </view>

      <!-- è®¢å•èœå“åˆ—è¡¨ -->
      <view class="order-dishes">
        <view wx:for="{{item.dishes}}" wx:key="dishId" wx:for-item="dish" class="dish-item">
          <view class="dish-name">{{dish.name}}</view>
          <view class="dish-count">x{{dish.count}}</view>
        </view>
      </view>

      <!-- è®¢å•å¤‡æ³¨ -->
      <view wx:if="{{item.notes}}" class="order-notes">
        <view class="notes-label">å¤‡æ³¨ï¼š</view>
        <view class="notes-text">{{item.notes}}</view>
      </view>
    </view>
  </view>
</view>
